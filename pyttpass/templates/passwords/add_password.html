{% extends 'base.html' %}
{% import "bootstrap/wtf.html" as wtf %}

{% block content %}
    <span class="title"><h1>{% block title %} Add new Password {% endblock %}</h1></span>
	<div>
		{% if message %}

			<!-- the form was submitted and message exists -->
			<p class="lead"><strong>{{ message }}</strong></p>

			<!-- links -->
			<p><a href="{{ url_for('passwords.add_password') }}">Submit another password.</a></p>
			<p><a href="{{ url_for('passwords.index') }}">Return to the index.</a></p>

		{% else %}

			<br>
			<p class="lead alert alert-primary">Add a new password to your inventory.</p>
			<p class="ml-4"><a href="{{ url_for('passwords.index') }}">Return to Passwords overview.</a></p>

			{% with errors = get_flashed_messages() %}
				{% if errors %}
					{% for err in errors %}
						<div class="alert alert-danger alert-dismissible" role="alert">
						<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
						{{ err }}
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}
			
			<br>
		    {{ wtf.quick_form(form1) }}

		{% endif %}
    </div>
{% endblock %}